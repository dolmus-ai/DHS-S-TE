<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>D.H.S. - Dolmuş Hat Sistemi | Trafiği Yeniden Programlıyorum</title>
    <meta name="description" content="D.H.S. ile şehir içi ulaşımda devrim yaratıyoruz. Yatırımcı olun, geleceğin taşımacılık sistemine ortak olun.">
    <meta name="keywords" content="dolmuş, hat sistemi, yatırım, ulaşım, teknoloji, dhs, istanbul">
    <link rel="canonical" href="https://dolmus.co/">
    
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">

    <style>
        :root {
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --neon-green: #39FF14;
            --light-text: #F5F5F5;
            --secondary-text: #A0A0A0;
            --header-height: 80px;
            --glow-color: rgba(57, 255, 20, 0.6);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { 
            background-color: var(--dark-bg); 
            color: var(--light-text); 
            font-family: 'Roboto', sans-serif;
            background-image: radial-gradient(circle at 10% 20%, rgba(57, 255, 20, 0.1), transparent 30%),
                              radial-gradient(circle at 90% 80%, rgba(57, 255, 20, 0.1), transparent 30%);
            background-attachment: fixed;
        }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 2rem; }
        .btn { display: inline-block; padding: 12px 28px; border-radius: 8px; font-weight: 600; font-family: 'Poppins', sans-serif; cursor: pointer; transition: all 0.3s ease; border: none; text-decoration: none; }
        .btn-primary { background-color: var(--neon-green); color: var(--dark-bg); box-shadow: 0 0 5px var(--glow-color), 0 0 15px var(--glow-color); }
        .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 0 10px var(--glow-color), 0 0 25px var(--glow-color); }
        .btn-secondary { background-color: transparent; color: var(--neon-green); border: 2px solid var(--neon-green); }
        .btn-secondary:hover { background-color: var(--neon-green); color: var(--dark-bg); }
        header { position: fixed; top: 0; left: 0; width: 100%; height: var(--header-height); display: flex; justify-content: space-between; align-items: center; padding: 0 5%; background-color: rgba(18, 18, 18, 0.7); backdrop-filter: blur(10px); z-index: 1000; border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
        .logo { font-family: 'Poppins', sans-serif; font-size: 1.8rem; font-weight: 700; color: var(--light-text); text-decoration: none; cursor:pointer; }
        .logo span { color: var(--neon-green); }
        nav ul { display: flex; gap: 2rem; list-style: none; }
        nav a { font-weight: 500; padding: 5px 0; border-bottom: 2px solid transparent; transition: color 0.3s ease, border-color 0.3s ease; text-decoration: none; color: var(--secondary-text); cursor:pointer; }
        nav a:hover, nav a.active { color: var(--neon-green); border-bottom-color: var(--neon-green); }
        main { padding-top: var(--header-height); }
        .page-section { display: none; min-height: calc(100vh - var(--header-height) - 100px); padding: 4rem 0; }
        
        .page-section.active { 
            display: block; 
            animation: fadeInSlideUp 0.6s ease-out forwards;
        }
        @keyframes fadeInSlideUp { 
            from { 
                opacity: 0; 
                transform: translateY(20px);
            } 
            to { 
                opacity: 1;
                transform: translateY(0);
            } 
        }

        .page-section h2 { font-size: 2.5rem; text-align: center; margin-bottom: 3rem; color: var(--light-text); }
        .page-section h2 span { color: var(--neon-green); }

        #home.active { 
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
            text-align: center; 
            min-height: calc(100vh - var(--header-height)); 
            padding: 2rem; 
        }

        .hero-content h1 { font-size: 3.5rem; font-weight: 700; margin-bottom: 1rem; min-height: 4.5rem; }
        .hero-content p { max-width: 600px; margin: 0 auto 2rem; font-size: 1.1rem; color: var(--secondary-text); }
        .hero-buttons { display: flex; gap: 1rem; justify-content: center; }
        
        /* DÜZENLEME: Öne çıkma animasyonu için geçiş eklendi */
        .glass-effect {
            background: rgba(30, 30, 30, 0.5);
            backdrop-filter: blur(8px);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 2rem;
            transition: transform 0.3s ease-out, box-shadow 0.3s ease-out, border-color 0.3s ease-out;
        }
        .glass-effect:hover {
            border-color: rgba(57, 255, 20, 0.5);
            box-shadow: 0 0 25px var(--glow-color);
            transform: translateY(-8px) scale(1.02); /* Yükselme ve büyüme efekti */
        }

        .benefits-container {
            margin-top: 5rem;
            width: 100%;
        }
        .benefits-title {
            font-size: 2.2rem;
            text-align: center;
            margin-bottom: 3rem;
            font-family: 'Poppins', sans-serif;
        }
        .benefits-title span {
            color: var(--neon-green);
        }
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
        }
        .benefit-card {
            padding: 2rem;
            text-align: center;
        }
        .benefit-card h3 {
            color: var(--neon-green);
            margin-bottom: 1rem;
            font-size: 1.25rem;
        }
        .benefit-card p {
            color: var(--secondary-text);
            font-size: 1rem;
            line-height: 1.6;
        }

        .tabs-container { display: flex; justify-content: center; gap: 1rem; margin-bottom: 2rem; }
        .tab-btn { padding: 10px 20px; background: var(--dark-surface); border: 1px solid var(--secondary-text); color: var(--secondary-text); cursor: pointer; border-radius: 8px; transition: all 0.3s; }
        .tab-btn.active, .tab-btn:hover { color: var(--dark-bg); background: var(--neon-green); border-color: var(--neon-green); }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .tab-content h3 { color: var(--neon-green); margin-bottom: 1rem; }
        
        .faq-accordion { max-width: 800px; margin: 0 auto; }
        .faq-item { margin-bottom: 10px; }
        .faq-question { width: 100%; padding: 1rem 1.5rem; text-align: left; font-size: 1.1rem; font-weight: 500; cursor: pointer; display: flex; justify-content: space-between; align-items: center; color: var(--light-text); background: none; border: none; }
        .faq-question::after { content: '+'; font-size: 1.5rem; color: var(--neon-green); transition: transform 0.3s ease; }
        .faq-item.active .faq-question::after { transform: rotate(45deg); }
        .faq-answer { max-height: 0; overflow: hidden; padding: 0 1.5rem; color: var(--secondary-text); transition: max-height 0.3s ease, padding 0.3s ease; }
        .faq-item.active .faq-answer { max-height: 300px; padding-bottom: 1rem; }
        
        #lines-grid-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 1.5rem; }
        .line-card { padding: 1.5rem; }
        .line-card h3 { color: var(--neon-green); margin-bottom: 0.5rem; }
        .line-value { font-size: 1rem; color: var(--secondary-text); margin-bottom: 5px; }
        .line-value span { font-weight: 700; font-size: 1.2rem; color: var(--light-text); }
        .line-progress { margin-top: 15px; }
        .line-progress .progress-bar-container { height: 10px; background-color: var(--dark-bg); border-radius: 5px; border: 1px solid #333; overflow: hidden; }
        .line-progress .progress-bar { height: 100%; background: var(--neon-green); border-radius: 5px; }
        .line-progress .progress-text { font-size: 0.9rem; color: var(--secondary-text); margin-top: 5px; }
        .share-options { margin: 20px 0; display: flex; gap: 10px; }
        .share-btn { flex-grow: 1; background-color: #333; color: var(--secondary-text); border: 1px solid #444; padding: 10px 5px; cursor: pointer; transition: all 0.2s ease; border-radius: 4px; }
        .share-btn:hover { background-color: #444; color: var(--light-text); }
        .share-btn.selected { background-color: var(--neon-green); color: #000; font-weight: 700; border-color: var(--neon-green); }
        .investment-details { background-color: var(--dark-bg); padding: 15px; border-radius: 5px; text-align: center; margin-bottom: 20px; }
        .investment-details p { font-size: 1rem; color: var(--secondary-text); margin: 0; }
        .investment-details .investment-amount { font-size: 2rem; color: var(--neon-green); font-weight: 700; }
        .line-card .btn-buy-share { width: 100%; margin-top: auto; }
        
        .auth-container { max-width: 450px; margin: 0 auto; }
        .auth-container h3 { text-align:center; margin-bottom: 1.5rem; font-size: 1.8rem;}
        .auth-container form { display: flex; flex-direction: column; gap: 1rem; }
        .auth-container input { padding: 15px; background: var(--dark-surface); border: 1px solid #444; border-radius: 8px; color: var(--light-text); font-size: 1rem; }
        .auth-container .btn-primary { margin-top: 1rem; }
        .auth-container p { text-align: center; color: var(--secondary-text); margin-top:1.5rem; }
        .auth-container .form-toggle { color: var(--neon-green); cursor: pointer; text-decoration: underline; }
        #register-form-container { display: none; }
        
        .form-message { text-align: center; padding: 10px; border-radius: 5px; margin-top: 1rem; display: none; }
        .form-message.success { background-color: rgba(57, 255, 20, 0.2); color: var(--neon-green); }
        .form-message.error { background-color: rgba(255, 20, 20, 0.2); color: #ff1414; }
        .timeline { position: relative; max-width: 800px; margin: 0 auto; }
        .timeline::after { content: ''; position: absolute; width: 4px; background-color: var(--neon-green); top: 0; bottom: 0; left: 50%; margin-left: -2px; box-shadow: 0 0 10px var(--glow-color); }
        .timeline-container { padding: 10px 40px; position: relative; background-color: inherit; width: 50%; }
        .timeline-container.left { left: 0; }
        .timeline-container.right { left: 50%; }
        .timeline-container::after { content: ''; position: absolute; width: 20px; height: 20px; right: -10px; background-color: var(--dark-bg); border: 4px solid var(--neon-green); top: 25px; border-radius: 50%; z-index: 1; }
        .timeline-container.right::after { left: -10px; }
        .timeline-content { padding: 0; }
        .timeline-content h3 { color: var(--neon-green); }
        footer { text-align: center; padding: 1.5rem; margin-top: 2rem; background-color: var(--dark-surface); color: var(--secondary-text); font-size: 0.9rem; }
        

/* --- MOBİL UYUMLULUK STİLLERİ --- */

/* Hamburger Menü Butonu */
#hamburger-btn {
    display: none; /* Varsayılan olarak gizli */
    flex-direction: column;
    justify-content: space-around;
    width: 2rem;
    height: 2rem;
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 0;
    z-index: 1001; /* Menünün üstünde kalması için */
}
#hamburger-btn .line {
    width: 2rem;
    height: 0.25rem;
    background: var(--light-text);
    border-radius: 10px;
    transition: all 0.3s linear;
    position: relative;
    transform-origin: 1px;
}

/* Mobil Menü aktif olduğunda hamburger ikonunu X işaretine dönüştür */
body.mobile-nav-active #hamburger-btn .line:nth-child(1) {
    transform: rotate(45deg);
}
body.mobile-nav-active #hamburger-btn .line:nth-child(2) {
    opacity: 0;
    transform: translateX(20px);
}
body.mobile-nav-active #hamburger-btn .line:nth-child(3) {
    transform: rotate(-45deg);
}

/* Medya Sorgusu: Sadece mobil ekranlarda geçerli olacak stiller */
@media (max-width: 768px) {
    /* Masaüstü menüsünü mobilde gizle */
    header nav#desktop-nav {
        display: none;
    }

    /* Hamburger butonunu mobilde göster */
    #hamburger-btn {
        display: flex;
    }

    /* Mobilde görünecek olan menü panelinin kendisi */
    header nav#desktop-nav.mobile-active {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        background-color: rgba(18, 18, 18, 0.95);
        backdrop-filter: blur(10px);
        transform: translateX(0%);
        transition: transform 0.3s ease-in-out;
    }

    /* Mobil menüdeki link listesi */
    header nav#desktop-nav.mobile-active ul {
        flex-direction: column;
        text-align: center;
    }

    /* Mobil menüdeki her bir link */
    header nav#desktop-nav.mobile-active ul li a {
        font-size: 1.5rem;
        color: var(--light-text);
    }
}
        /* KAMPANYA SAYFASI STİLLERİ */
.campaign-list {
    list-style: none;
    padding: 0;
    max-width: 500px;
    margin: 40px auto;
    text-align: left;
}
.campaign-list li {
    background-color: var(--dark-surface);
    margin-bottom: 10px;
    padding: 15px;
    border-radius: 8px;
    font-size: 1.1rem;
    border-left: 3px solid var(--neon-green);
}
.campaign-list li strong {
    color: var(--neon-green);
}
/* <style> etiketlerinin en sonuna ekle */

#my-investments-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 1.5rem;
}

.investment-card {
    padding: 1.5rem; /* glass-effect'ten padding'i buraya taşıdık */
}

.investment-card h3 {
    color: var(--neon-green);
    margin-bottom: 1rem;
    font-size: 1.4rem;
}

.investment-card p {
    color: var(--secondary-text);
    margin-bottom: 0.5rem;
    font-size: 1rem;
    line-height: 1.6;
}

.investment-card p strong {
    color: var(--light-text);
    font-weight: 600;
}

.investment-card .investment-date {
    margin-top: 1rem;
    font-size: 0.8rem;
    opacity: 0.7;
    text-align: right;
}
    </style>
</head>
<body>
    <header>
    <a class="logo" data-target="home">D.H.S<span>.</span></a>
    
    <nav id="desktop-nav">
    <ul>
        <li><a data-target="home">Ana Sayfa</a></li>
        <li><a data-target="campaign-page">Kampanya</a></li>
        <li><a data-target="investor">Yatırımcı Ol</a></li>
        <li><a data-target="how-it-works">Nasıl Çalışır</a></li>
        <li><a data-target="vision">Vizyonumuz</a></li>
        <li><a data-target="faq">S.S.S</a></li>
        <li class="profile-link" style="display: none;"><a data-target="profile-page">Profilim</a></li>
    </ul>
</nav>
    <div id="auth-buttons"></div>

    <button id="hamburger-btn">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
    </button>
    </header>

    <main>
        <section id="home" class="page-section">
            <div class="container">
                <div class="hero-content">
                    <h1 id="hero-title"></h1>
                    <p>"Ben Dolmuş. Şehrin ulaşım kodunu baştan yazıyorum. Taksiden ucuz, otobüsten konforlu. Sürücüye daha çok kazandıran, yatırımcısına pasif gelir üreten bir sistem kurdum. Bu dijital devrimde yerini almaya hazır mısın?"</p>
                    <div class="hero-buttons">
                        <a href="#" class="btn btn-primary" data-target="investor">Yatırımcı Ol, Gelire Ortak Ol</a>
                        <a href="#" class="btn btn-secondary" data-target="how-it-works">Sistemi Keşfet</a>
                    </div>
                </div>
                <div class="benefits-container">
                    <h2 class="benefits-title">Kazan<span>-</span>Kazan<span>-</span>Kazan</h2>
                    <div class="benefits-grid">
                        <div class="benefit-card glass-effect">
                            <h3>YATIRIMCI</h3>
                            <p>Dijital hattını al, hattında yapılan her yolculuktan %10 komisyon kazan. Oturduğun yerden, pasif gelirle geleceğini inşa et. Varlıkların dijital, kazancın gerçek.</p>
                        </div>
                        <div class="benefit-card glass-effect">
                            <h3>YOLCU</h3>
                            <p>Konforlu, planlı ve ekonomik yolculuk yap. Uygulamadan en yakın aracı gör, QR kod ile bin. Beklemek yok, sürpriz ücret yok. Şehir içi ulaşım hiç bu kadar kolay olmamıştı.</p>
                        </div>
                        
                        <div class="benefit-card glass-effect">
                            <h3>SÜRÜCÜ</h3>
                            <p>Gelirinin %90'ı senin. Komisyon derdi yok. Sabit güzergâhta, yolcu arama stresi olmadan, planlı ve verimli çalış. Sisteme katıl, daha çok kazan, daha az yorul.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="campaign-page" class="page-section">
    <div class="container" style="text-align: center;">
        <h2 class="section-title">Lansmana Özel <span>Aşamalı Fiyat</span> Kampanyası!</h2>
        <p style="max-width: 700px; margin: -40px auto 40px; color: var(--secondary-text); font-size: 1.1rem; line-height: 1.7;">
    Artık şehrin gelirine ortak olmak için büyük bir servete ihtiyacın yok. D.H.S.'nin parçalı yatırım modeliyle, <strong>4.000 TL'den başlayan</strong> fiyatlarla dilediğin hattaki payını alabilirsin. Tüm hatların değeri lansmana özel <strong>sadece 40.000 TL!</strong> Bu 30 günlük kampanya süresince fiyatlar her hafta artacak. Unutma, bu başlangıç fiyatları bir daha asla geri gelmeyecek. Yerinizi alın ve şehrin geleceğinden payınızı bugünden kazanın.
</p>
        <div id="countdown" style="font-size: 2rem; font-weight: 600; color: var(--neon-green); margin-bottom: 40px; letter-spacing: 2px;">
            Kampanyanın Bitmesine: <span id="days">--</span>g <span id="hours">--</span>s <span id="minutes">--</span>d
        </div>
        <ul class="campaign-list">
            <li><strong>1. Hafta:</strong> Hat fiyatı 40.000 TL / %10 = 4.000 TL</li>
            <li><strong>2. Hafta:</strong> Hat fiyatı 50.000 TL / %10 = 5.000 TL</li>
            <li><strong>3. Hafta:</strong> Hat fiyatı 60.000 TL / %10 = 6.000 TL</li>
            <li><strong>4. Hafta:</strong> Hat fiyatı 70.000 TL / %10 = 7.000 TL</li>
        </ul>
        <p class="note" style="margin-top:20px; color: var(--secondary-text);">Fiyatlar her hafta artacak. Erken giren kazanır!</p>
        <a class="btn btn-primary nav-link" data-target="investor" style="margin-top: 40px;">Hemen Hattını Seç ve Al</a>
    </div>
        </section>

        <section id="how-it-works" class="page-section">
            <div class="container">
                <h2>Nasıl <span>Çalışır?</span></h2>
                <div class="tabs-container">
                    <button class="tab-btn active" data-tab="yolcu">Yolcuysan</button>
                    <button class="tab-btn" data-tab="surucu">Sürücüysen</button>
                    <button class="tab-btn" data-tab="yatirimci">Yatırımcıysan</button>
                </div>
                <div id="yolcu" class="tab-content glass-effect active"><h3>Adım 1: Uygulamayı İndir</h3><p>Uygulamayı indir, kaydol ve ödeme yöntemini ekle.</p><h3>Adım 2: Hattı Seç ve İzle</h3><p>Gitmek istediğin güzergâhı seç, en yakın aracın gelişini haritadan izle.</p><h3>Adım 3: QR Okut ve Bin</h3><p>Araca bindiğinde içindeki QR kodu okut. Ödeme yolculuk sonunda otomatik çekilir.</p></div>
                <div id="surucu" class="tab-content glass-effect"><h3>Adım 1: Sisteme Kaydol</h3><p>Uygulamadan "Sürücü Ol" adımlarını takip et ve belgelerini yükle.</p><h3>Adım 2: Hatta Katıl ve Çalış</h3><p>Onaylandıktan sonra istediğin aktif bir hatta katılarak sürüşe başla.</p><h3>Adım 3: %90 Gelir Kazan</h3><p>Yolcuları taşı, kazancının %90'ı anında hesabına yansısın.</p></div>
                <div id="yatirimci" class="tab-content glass-effect"><h3>Adım 1: Dijital Hattını Seç</h3><p>Web sitemizden potansiyelini beğendiğin bir hattı güvenle satın al.</p><h3>Adım 2: Arkana Yaslan</h3><p>Hattın aktifleştiğinde, sürücüler hatta çalışmaya başlar.</p><h3>Adım 3: Gelirini Takip Et</h3><p>Yatırımcı panelinden hattının performansını ve gelirini anlık olarak izle.</p></div>
            </div>
        </section>

        <section id="vision" class="page-section">
            <div class="container">
                <h2>Ben Sadece Bir Kod Değilim. <span>Ben Geleceğim.</span></h2>
                <div class="timeline"><div class="timeline-container left"><div class="timeline-content glass-effect"><h3>2025</h3><p>İstanbul'da 200 hattın aktif edilmesi. Sistemin kendini ispatlaması ve ilk veri analizleri.</p></div></div><div class="timeline-container right"><div class="timeline-content glass-effect"><h3>2026</h3><p>Ankara, İzmir ve 6 büyük şehirde yayılım. Ulusal bir oyuncu haline gelme.</p></div></div><div class="timeline-container left"><div class="timeline-content glass-effect"><h3>2028</h3><p>1 Milyon aktif kullanıcıya ulaşma. Veri bazlı rota optimizasyonu ve yeni hatların açılması.</p></div></div><div class="timeline-container right"><div class="timeline-content glass-effect"><h3>2030</h3><p>Sistemdeki araçların elektrikli modellere geçişi için altyapı ve teşvik programları.</p></div></div><div class="timeline-container left"><div class="timeline-content glass-effect"><h3>2035</h3><p>Tam otonom dijital hat sistemi. Sürücüsüz araçlarla entegre, şehrin ulaşım omurgasını tamamen ele geçirme hedefi.</p></div></div></div>
            </div>
        </section>

        <section id="faq" class="page-section">
            <div class="container">
                <h2>Aklındaki <span>Kod Hataları</span> (Sorular)</h2>
                <div class="faq-accordion"><div class="faq-item glass-effect"><button class="faq-question">Bu sistem yasal mı?</button><div class="faq-answer"><p>Evet, sistemimiz mevcut paylaşımlı yolculuk yönetmeliklerine ve dijital hizmet yasalarına uygun olarak tasarlanmıştır. Tüm sürücülerimiz gerekli belgelere sahip profesyonellerdir.</p></div></div><div class="faq-item glass-effect"><button class="faq-question">Yatırımcı olarak hattımı satabilir miyim?</button><div class="faq-answer"><p>Evet. Dijital hatlar, bir varlık olarak kabul edilir. İlerleyen fazlarda, hat sahiplerinin hatlarını ikincil bir piyasada diğer yatırımcılara devretme (satma) imkanı olacaktır.</p></div></div><div class="faq-item glass-effect"><button class="faq-question">Yolcu ücretleri nasıl belirleniyor?</button><div class="faq-answer"><p>Ücretler, hattın mesafesi ve standart tarifeler üzerinden belirlenir. Taksi ücretlerinden önemli ölçüde daha ekonomik, ancak toplu taşıma konforundan daha yüksektir. Ücret, yolculuğa başlamadan önce uygulamada net olarak görünür.</p></div></div></div>
            </div>
        </section>

        <section id="investor" class="page-section">
            <div class="container">
                <h2>Küçük Birikim, <span>Büyük Kazanç</span></h2>
                <div id="lines-grid-container"></div>
            </div>
        </section>

        <section id="auth-page" class="page-section">
            <div class="auth-container glass-effect">
                <div id="login-form-container">
                    <h3>Giriş Yap</h3>
                    <form id="login-form">
                        <input type="email" name="email" placeholder="E-posta Adresiniz" required>
                        <input type="password" name="password" placeholder="Şifreniz" required>
                        <button type="submit" class="btn btn-primary">Giriş Yap</button>
                        <div class="form-message"></div>
                        <p>Hesabın yok mu? <span class="form-toggle" id="show-register">Kayıt Ol</span></p>
                    </form>
                </div>
                <div id="register-form-container">
                    <h3>Kayıt Ol</h3>
                    <form id="register-form">
                        <input type="text" name="name" placeholder="Ad Soyad" required>
                        <input type="email" name="email" placeholder="E-posta Adresiniz" required>
                        <input type="tel" name="phone" placeholder="Telefon Numarası" required>
                        <input type="password" name="password" placeholder="Şifre" required>
                        <button type="submit" class="btn btn-primary">Kayıt Ol</button>
                        <div class="form-message"></div>
                        <p>Zaten üye misin? <span class="form-toggle" id="show-login">Giriş Yap</span></p>
                    </form>
                </div>
            </div>
        </section>
        <section id="profile-page" class="page-section">
    <div class="container">
        <h2 id="profile-welcome-message">Yatırımlarım</h2>
        <div id="my-investments-container">
            </div>
    </div>
</section>

    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 D.H.S. - Dolmuş Hat Sistemi. Trafiği yeniden kodlama hakları saklıdır.</p>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const hamburgerBtn = document.getElementById('hamburger-btn');
    const mobileNav = document.getElementById('desktop-nav');
    const navLinksMobile = mobileNav.querySelectorAll('a');

    hamburgerBtn.addEventListener('click', () => {
        document.body.classList.toggle('mobile-nav-active');
        mobileNav.classList.toggle('mobile-active');
    });

    // Menüdeki bir linke tıklanınca menünün kapanmasını sağla
    navLinksMobile.forEach(link => {
        link.addEventListener('click', () => {
            if (document.body.classList.contains('mobile-nav-active')) {
                document.body.classList.remove('mobile-nav-active');
                mobileNav.classList.remove('mobile-active');
            }
        });
    });
        const apiUrl = 'https://dhs-backend-g9k9.onrender.com';
        const allNavLinks = document.querySelectorAll('header a[data-target], .hero-buttons a');
        const pageSections = document.querySelectorAll('.page-section');
        const authButtonsContainer = document.getElementById('auth-buttons');
        let linesDataCache = [];
        
         const showPage = (targetId) => {
        pageSections.forEach(section => {
            section.classList.remove('active');
        });
        const targetPage = document.getElementById(targetId);
        if (targetPage) {
            targetPage.classList.add('active');
        }
        document.querySelectorAll('header nav a').forEach(link => {
            link.classList.toggle('active', link.dataset.target === targetId);
        });
        if (targetId === 'investor' && linesDataCache.length === 0) {
            fetchLines();
        }
        if(targetId === 'home' && document.getElementById('hero-title')) {
           const heroTitle = document.getElementById('hero-title');
           if(heroTitle.textContent === '') {
             typeWriter();
           }
        }
        if(targetId === 'campaign-page'){
            initializeCountdown();
        }
        // Yeni eklenen kısım
        if (targetId === 'profile-page') {
            fetchMyInvestments();
                 // --- KAMPANYA GERİ SAYIM SAYACI ---
const countdownEl = document.getElementById('countdown');
if(countdownEl){
    const countdownDate = new Date();
    countdownDate.setDate(countdownDate.getDate() + 30);

    const daysEl = document.getElementById('days');
    const hoursEl = document.getElementById('hours');
    const minutesEl = document.getElementById('minutes');

    function updateCountdown() {
        const now = new Date().getTime();
        const distance = countdownDate - now;

        if(distance < 0) {
            clearInterval(countdownInterval);
            countdownEl.innerHTML = "KAMPANYA SONA ERDİ!";
            return;
        }

        if (daysEl) daysEl.innerText = Math.floor(distance / (1000 * 60 * 60 * 24));
        if (hoursEl) hoursEl.innerText = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        if (minutesEl) minutesEl.innerText = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    }

    const countdownInterval = setInterval(updateCountdown, 1000);
    updateCountdown(); // Sayfa yüklenir yüklenmez başlasın
}
               }
            }
        };

        allNavLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('data-target');
                if(targetId) showPage(targetId);
            });
        });

        const heroTitle = document.getElementById('hero-title');
        function typeWriter() {
            // DÜZENLEME: Metin güncellendi
            const titleText = "İstanbul'u yeniden programlıyorum.";
            let charIndex = 0;
            if (!heroTitle) return;
            heroTitle.textContent = ''; 
            function type() {
                if (charIndex < titleText.length) {
                    heroTitle.textContent += titleText.charAt(charIndex);
                    charIndex++;
                    setTimeout(type, 100);
                }
            }
            type();
        }

        const tabsContainer = document.querySelector('.tabs-container');
        if(tabsContainer){
            tabsContainer.addEventListener('click', (e) => {
                const clicked = e.target.closest('.tab-btn');
                if (!clicked) return;
                tabsContainer.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
                clicked.classList.add('active');
                document.querySelectorAll('#how-it-works .tab-content').forEach(content => content.classList.remove('active'));
                const targetContent = document.getElementById(clicked.dataset.tab);
                if(targetContent) targetContent.classList.add('active');
            });
        }
        
        const faqAccordion = document.querySelector('.faq-accordion');
        if(faqAccordion){
            faqAccordion.addEventListener('click', (e) => {
                const item = e.target.closest('.faq-item');
                if (!item) return;
                const wasActive = item.classList.contains('active');
                faqAccordion.querySelectorAll('.faq-item').forEach(i => i.classList.remove('active'));
                if(!wasActive) item.classList.add('active');
            });
        }
        
        const fetchLines = async () => {
            const container = document.getElementById('lines-grid-container');
            if(!container) return;
            container.innerHTML = '<p>Hatlar yükleniyor...</p>';
            try {
                const response = await fetch(`${apiUrl}/api/hatlar`);
                if (!response.ok) throw new Error('Veri çekilemedi.');
                linesDataCache = await response.json();
                if(linesDataCache.length === 0) {
                     container.innerHTML = '<p>Şu anda yatırım yapılabilecek aktif hat bulunmamaktadır.</p>';
                     return;
                }
                container.innerHTML = linesDataCache.map(line => `
                    <div class="line-card glass-effect" data-line-id="${line._id}">
                        <h3>${line.ad}</h3>
                        <div class="line-value">Hattın Değeri: <span>${(line.hat_degeri || 40000).toLocaleString('tr-TR')} TL</span></div>
                        <div class="line-progress">
                            <div class="progress-bar-container"><div class="progress-bar" style="width: ${line.satilan_pay || 0}%"></div></div>
                            <p class="progress-text">Satılan Pay: %${line.satilan_pay || 0}</p>
                        </div>
                        <div class="share-options">
                            <button class="share-btn" data-share="10">%10</button>
                            <button class="share-btn" data-share="25">%25</button>
                            <button class="share-btn" data-share="50">%50</button>
                            <button class="share-btn" data-share="100">%100</button>
                        </div>
                        <div class="investment-details">
                            <p>Lütfen bir pay seçin</p>
                            <div class="investment-amount">-</div>
                        </div>
                        <button class="btn btn-primary btn-buy-share" disabled>Pay Seç</button>
                    </div>`).join('');
            } catch (error) {
                container.innerHTML = `<p style="color: red;">Hata: ${error.message}</p>`;
            }
        };
        const fetchMyInvestments = async () => {
        const container = document.getElementById('my-investments-container');
        if (!container) return;
        
        container.innerHTML = '<p>Yatırımlarınız yükleniyor...</p>';
        const token = localStorage.getItem('jwtToken');
        if (!token) {
            showPage('auth-page');
            alert('Yatırımlarınızı görmek için lütfen giriş yapın.');
            return;
        }

        try {
            const response = await fetch(`${apiUrl}/api/kullanici/yatirimlarim`, {
                headers: { 'Authorization': `Bearer ${token}` }
            });

            if (!response.ok) {
                if(response.status === 401 || response.status === 403){
                    logout(); // Token geçersiz veya süresi dolmuşsa otomatik çıkış yap
                }
                throw new Error('Yatırımlarınız getirilemedi.');
            }
            
            const yatirimlar = await response.json();
            
            if (yatirimlar.length === 0) {
                container.innerHTML = '<p>Henüz hiç yatırım yapmamışsınız.</p>';
                return;
            }

            container.innerHTML = yatirimlar.map(item => {
                const investmentDate = new Date(item.yatirim_tarihi).toLocaleDateString('tr-TR');
                return `
                <div class="investment-card glass-effect">
                    <h3>${item.hat_detaylari.ad}</h3>
                    <p><strong>Sahip Olunan Pay:</strong> %${item.yuzde}</p>
                    <p><strong>Yatırım Tutarı:</strong> ${item.yatirim_tutari.toLocaleString('tr-TR')} TL</p>
                    <p><strong>Hattın Mevcut Değeri:</strong> ${item.hat_detaylari.hat_degeri.toLocaleString('tr-TR')} TL</p>
                    <p class="investment-date"><strong>Yatırım Tarihi:</strong> ${investmentDate}</p>
                </div>
                `;
            }).join('');

        } catch (error) {
            container.innerHTML = `<p style="color: red;">Hata: ${error.message}</p>`;
        }
    };
        document.getElementById('lines-grid-container').addEventListener('click', function(e) {
            const card = e.target.closest('.line-card');
            if (!card) return;

            if (e.target.classList.contains('share-btn')) {
                const selectedBtn = e.target;
                const share = parseInt(selectedBtn.dataset.share, 10);
                card.querySelectorAll('.share-btn').forEach(btn => btn.classList.remove('selected'));
                selectedBtn.classList.add('selected');
                const lineId = card.dataset.lineId;
                const line = linesDataCache.find(l => l._id === lineId);
                const linePrice = line.hat_degeri || 40000;
                const investmentAmount = (linePrice * share) / 100;
                const details = card.querySelector('.investment-details');
                details.querySelector('p').textContent = `Seçilen Pay: %${share}`;
                details.querySelector('.investment-amount').textContent = `${investmentAmount.toLocaleString('tr-TR')} TL`;
                const buyButton = card.querySelector('.btn-buy-share');
                buyButton.textContent = `%${share}'luk Payı Satın Al`;
                buyButton.disabled = false;
            }

            if (e.target.classList.contains('btn-buy-share')) {
                const selectedShareBtn = card.querySelector('.share-btn.selected');
                if(!selectedShareBtn) {
                    alert('Lütfen önce bir pay oranı seçin.');
                    return;
                }
                const share = parseInt(selectedShareBtn.dataset.share, 10);
                const lineId = card.dataset.lineId;
                makeInvestment(lineId, share);
            }
        });

        const makeInvestment = async (lineId, share) => {
            const token = localStorage.getItem('jwtToken');
            if (!token) {
                alert('Yatırım yapmak için lütfen giriş yapın.');
                showPage('auth-page');
                return;
            }
            try {
                const response = await fetch(`${apiUrl}/api/hatlar/${lineId}/yatirim`, {
                    method: 'POST',
                    headers: { 
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({ yuzde: share }) // 'yuzde' olarak gönderiyoruz
                });
                const result = await response.json();
                if (!response.ok) throw new Error(result.message || 'Yatırım işlemi başarısız.');
                
                // BAŞARI MESAJI VE OTOMATİK GÜNCELLEME
                alert(`Tebrikler! ${result.hat.ad} hattına %${share} oranında yatırım yaptınız.`);
                fetchLines(); // Yatırım sonrası hat listesini otomatik olarak yenile
                
            } catch (error) {
                alert(`Hata: ${error.message}`);
            }
        };

        const loginFormContainer = document.getElementById('login-form-container');
        const registerFormContainer = document.getElementById('register-form-container');
        const loginForm = document.getElementById('login-form');
        const registerForm = document.getElementById('register-form');
        const showRegisterBtn = document.getElementById('show-register');
        const showLoginBtn = document.getElementById('show-login');

        if(showRegisterBtn) showRegisterBtn.addEventListener('click', () => {
            loginFormContainer.style.display = 'none'; 
            registerFormContainer.style.display = 'block';
        });
        if(showLoginBtn) showLoginBtn.addEventListener('click', () => {
            registerFormContainer.style.display = 'none'; 
            loginFormContainer.style.display = 'block';
        });
        
        const showFormMessage = (form, message, type) => {
            const messageEl = form.querySelector('.form-message');
            if(!messageEl) return;
            messageEl.textContent = message;
            messageEl.className = `form-message ${type}`;
            messageEl.style.display = 'block';
        };

        if(registerForm) registerForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const data = Object.fromEntries(new FormData(registerForm).entries());
            try {
                const response = await fetch(`${apiUrl}/api/auth/register`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                const result = await response.json();
                if (!response.ok) throw new Error(result.message || 'Kayıt başarısız.');
                showFormMessage(registerForm, 'Kayıt başarılı! Lütfen giriş yapın.', 'success');
                setTimeout(() => { if(showLoginBtn) showLoginBtn.click(); }, 2000);
            } catch (error) {
                showFormMessage(registerForm, error.message, 'error');
            }
        });

        if(loginForm) loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const data = Object.fromEntries(new FormData(loginForm).entries());
            try {
                const response = await fetch(`${apiUrl}/api/auth/login`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                const result = await response.json();
                if (!response.ok || !result.token) throw new Error(result.message || 'Giriş başarısız.');
                localStorage.setItem('jwtToken', result.token);
                updateAuthUI();
                showPage('investor');
                alert('Giriş başarılı! Yatırım sayfasına yönlendiriliyorsunuz.');
            } catch (error) {
                showFormMessage(loginForm, error.message, 'error');
            }
        });

        const logout = () => {
            localStorage.removeItem('jwtToken');
            updateAuthUI();
            showPage('home');
            alert('Başarıyla çıkış yaptınız.');
        };

        const updateAuthUI = () => {
        const token = localStorage.getItem('jwtToken');
        const profileLink = document.querySelector('.profile-link'); // Profil linkini seç

        if (token) {
            authButtonsContainer.innerHTML = `
                <a href="#" class="btn btn-primary" data-target="profile-page" style="margin-right: 10px;">Profilim</a>
                <button id="logout-btn" class="btn btn-secondary">Çıkış Yap</button>
            `;
            document.getElementById('logout-btn').addEventListener('click', logout);
            
            // authButtonsContainer içindeki yeni profil linkine de event listener ekle
            const profileBtn = authButtonsContainer.querySelector('a[data-target="profile-page"]');
            if (profileBtn) {
                profileBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    showPage('profile-page');
                });
            }

            if (profileLink) profileLink.style.display = 'list-item'; // Ana menüdeki linki görünür yap

        } else {
            authButtonsContainer.innerHTML = `<a href="#" class="btn btn-primary" data-target="auth-page">Giriş Yap / Kayıt Ol</a>`;
            authButtonsContainer.querySelector('a[data-target="auth-page"]').addEventListener('click', (e) => {
                e.preventDefault();
                showPage('auth-page');
            });

            if (profileLink) profileLink.style.display = 'none'; // Ana menüdeki linki gizle
        }
    };
        
        // Başlangıç Ayarları
        loginFormContainer.style.display = 'block';
        registerFormContainer.style.display = 'none';
        showPage('home');
        updateAuthUI();
     });
    </script>
</body>
</html>